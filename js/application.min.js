var selectedOld="",selectedNew="";function setup_events(){$(document).on("scroll",function(){var e=$(document).scrollTop(),t=$(window).height();e>0?$("#nav").addClass("fixed"):$("#nav").removeClass("fixed"),selectedNew="",$("section").each(function(){var s=$(this).find(".content"),n=s.position().top,o=$(this).attr("id");n<=e+t&&n+s.outerHeight()>=e+100&&(""==selectedNew||selectedNew.indexOf("section-top")>=0)&&(selectedNew=o)}),""!=selectedNew&&selectedNew!=selectedOld&&($('a[href="#'+selectedNew+'"]').parent().addClass("selected"),""!=selectedOld&&$('a[href="#'+selectedOld+'"]').parent().removeClass("selected"),selectedOld=selectedNew);var s=5*t/6;$(".card:not(.done)").each(function(){$(this).position().top<e+s&&$(this).addClass("done")})}),$('a[href^="#"]').on("click",function(e){e.preventDefault();var t=$(this.hash);$("#nav").removeClass("menu-on"),$(".hamburger").removeClass("is-active"),$("html, body").stop().animate({scrollTop:t.offset().top},500,"swing",function(){window.location.hash="#"+t.attr("id")})}),$(".hamburger").on("click",function(){$("#nav").toggleClass("menu-on"),$(this).toggleClass("is-active")})}$(document).ready(function(){setup_events(),$(document).trigger("scroll")});